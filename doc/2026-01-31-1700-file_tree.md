# File Tree: the_masked_garden

```sh
file_tree --ext ts,tsx,md -r --block-lines-max 10000 ~/own/repo/the_masked_garden
```

> dirs: file count if >10, loc if >5000
> files: tok if >=500
> tags: gitignored, uncommitted, untracked
> refs: imports/exports/types/wikilinks

```
the_masked_garden/ # 6.3k lines = 47ktok = 178KB in 58 files
	Assets/
		leveltest/
		Player/Player Character/
	docs/
		skill/
			table-it.md
		2026-01-31-1645-semantic-sound-tokens.md # ~1.1ktok
		2026-01-31-1650-stable-randomness-impl.md # ~1.4ktok
		data-flow.md # ~1.8ktok
		graceful-degradation.md # ~1.9ktok
		stable-randomness.md # ~2.1ktok
		upcoming.md
	game/ # 49 files
		public/models/
		src/ # 48 files
			actions/
				gameActions.ts
					imports: ../store, ../store/atoms/gameAtoms, ./playerActions, ../types/game
					exports: setGameState, startGame, pauseGame, resumeGame, endGame, addScore, resetGame
				inputActions.ts
					imports: ../store, ../store/atoms/inputAtoms, ../types/game
					exports: setInputDirection, setInputSource, resetInput
				playerActions.ts
					imports: ../store, ../store/atoms/playerAtoms
					exports: setPlayerPosition, setPlayerVelocity, takeDamage, healPlayer, resetPlayer
			audio/
				index.ts
				presets.ts # ~6.0ktok
					imports: ./sound-engine
					exports: presets, presetsByCategory, getPresetById
					types: SoundPreset
				sound-engine.ts # ~8.3ktok
					exports: soundEngine
					types: OscillatorType, NoiseType, FilterType, LFOTarget, SpatialPosition, ADSREnvelope, LFOConfig, FilterConfig, EffectChainConfig, PlayingSound, LoadedSample
			components/
				GameCanvas.tsx
					imports: react, ../engine/ThreeEngine
					exports: GameCanvas
				GhostPlayers.tsx # ~1.1ktok
					imports: react, @react-three/fiber, three, ../store, ../store/atoms/onlineAtoms
					exports: GhostPlayers
				Ground.tsx
					imports: react, @react-three/rapier, jotai, ../store/atoms/configAtoms, ../types/visualStyles
					exports: Ground
				Icosahedron.tsx
					imports: @react-three/rapier, three
					exports: Icosahedron
				Lighting.tsx
					imports: react, jotai, ../store/atoms/configAtoms, ../types/visualStyles
					exports: Lighting
				ObstacleField.tsx # ~550tok
					imports: react, jotai, ./Icosahedron, ../store/atoms/configAtoms, ../types/visualStyles, ../utils/seededRandom, three
					exports: ObstacleField
				Player.tsx # ~1.1ktok
					imports: react, @react-three/fiber, @react-three/drei, @react-three/rapier, three, ../store, ../store/atoms/inputAtoms, ../store/atoms/gameAtoms, ../store/atoms/playerAtoms, ../store/atoms/configAtoms, ../actions/playerActions, ../actions/gameActions, ../types/visualStyles, ../materials/CapeMaterial
					exports: Player
				PostProcessing.tsx
					imports: react, @react-three/fiber, @react-three/postprocessing, jotai, three, ../store/atoms/configAtoms, ../types/visualStyles
					exports: PostProcessing
				Scene.tsx
					imports: react, @react-three/fiber, @react-three/rapier, jotai, ./TopDownCamera, ./Player, ./ObstacleField, ./Ground, ./Lighting, ./PostProcessing, ./GhostPlayers, ../store/atoms/configAtoms, ../types/visualStyles
					exports: Scene
				TopDownCamera.tsx
					imports: @react-three/fiber, react, three, ../store, ../store/atoms/playerAtoms, ../store/atoms/configAtoms
					exports: TopDownCamera
			engine/
				ThreeEngine.ts # ~3.5ktok
					imports: three/addons/loaders/GLTFLoader.js, ../store, ../store/atoms/configAtoms, ../types/visualStyles, ../store/atoms/inputAtoms, ../store/atoms/gameAtoms, ../store/atoms/playerAtoms, ../actions/playerActions, ../actions/gameActions, ../particles/ParticleSystem, three
					exports: ThreeEngine
			game/
				GameLoop.ts
					imports: ../store, ../store/atoms/gameAtoms, ../store/atoms/playerAtoms
					exports: gameLoop
			input/
				GyroInput.ts # ~700tok
					imports: ../actions/inputActions
					exports: gyroInput
				KeyboardInput.ts
					imports: ../actions/inputActions
					exports: keyboardInput
			materials/
				CapeMaterial.ts # ~1.3ktok
					imports: three
					exports: CapeMaterial
					types: CapeMaterialOptions
			online/
				wsClient.ts # ~800tok
					imports: ../store, ../store/atoms/onlineAtoms, ../store/atoms/playerAtoms
					exports: connectWebSocket
			particles/
				index.ts
					exports: ...
				ParticleSystem.ts # ~1.5ktok
					imports: ./presets, three
					exports: ParticleSystem
				presets.ts
					exports: particlePresets
					types: ParticlePreset
			store/
				atoms/
					configAtoms.ts
						imports: jotai/vanilla, ../../types/visualStyles
						exports: playerSpeedAtom, playerScaleAtom, playerDampingAtom, cameraDistanceAtom, cameraSmoothingAtom, cameraViewAngleAtom, gravityAtom, collisionCooldownAtom, damageAmountAtom, visualStyleAtom, devPanelOpenAtom
					gameAtoms.ts
						imports: jotai/vanilla, ../../types/game
						exports: gameStateAtom, scoreAtom
					inputAtoms.ts
						imports: jotai/vanilla, ../../types/game
						exports: inputDirectionAtom, inputSourceAtom
					onlineAtoms.ts
						imports: jotai
						exports: playerCountAtom, wsConnectedAtom, myPlayerIdAtom, otherPlayersAtom, lastBuildTimeAtom
						types: PlayerState
					playerAtoms.ts
						imports: jotai/vanilla
						exports: playerPositionAtom, playerVelocityAtom, playerHealthAtom
						types: Vec3
				index.ts
					imports: jotai/vanilla
					exports: gameStore
			types/
				game.ts
					imports: three
					types: GameState, InputDirection, InputSource, PlayerState, ObstacleData
				visualStyles.ts # ~1.9ktok
					exports: visualStyleConfigs, visualStyleOptions
					types: VisualStyle, VisualStyleConfig
			ui/
				DevPanel.tsx # ~1.1ktok
					imports: jotai, ../store/atoms/configAtoms, ../types/visualStyles
					exports: DevPanel
				GameOverScreen.tsx
					imports: jotai, ../store/atoms/gameAtoms, ../actions/gameActions
					exports: GameOverScreen
				GyroPermission.tsx
					imports: react, ../input/GyroInput, ../utils/device
					exports: GyroPermission
				HealthBar.tsx
					imports: jotai, ../store/atoms/playerAtoms
					exports: HealthBar
				Minimap.tsx # ~1.2ktok
					imports: react, ../store, ../store/atoms/playerAtoms, ../store/atoms/onlineAtoms
					exports: Minimap
				PlayerCount.tsx
					imports: jotai, react, ../store/atoms/onlineAtoms
					exports: PlayerCount
				ScoreDisplay.tsx
					imports: jotai, ../store/atoms/gameAtoms
					exports: ScoreDisplay
				SoundDebug.tsx # ~2.5ktok
					imports: react, ../audio, ../audio/presets
					exports: SoundDebug
				StartScreen.tsx
					imports: ../actions/gameActions, ../utils/device
					exports: StartScreen
				UIOverlay.tsx
					imports: jotai, ../store/atoms/gameAtoms, ./HealthBar, ./ScoreDisplay, ./StartScreen, ./GameOverScreen, ./GyroPermission, ./DevPanel, ./PlayerCount, ./Minimap
					exports: UIOverlay
			utils/
				device.ts
					exports: isMobile, supportsGyro, requiresGyroPermission
				seededRandom.ts
					exports: GAME_SEED, seededRandom, createSeededRandom
			App.tsx
				imports: react, jotai, ./store, ./components/GameCanvas, ./ui/UIOverlay, ./game/GameLoop, ./input/KeyboardInput, ./utils/device, ./online/wsClient, ./ui/SoundDebug
				exports: App
			main.tsx
				imports: ./App, react, react-dom/client
			vite-env.d.ts
		vite.config.ts
			imports: vite, @vitejs/plugin-react
			exports: default
	server/
	2026-01-31-1700-file_tree.md # untracked
	README.md # ~1.2ktok
```

